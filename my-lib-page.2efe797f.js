!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},i=n.parcelRequire8a95;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var i={id:e,exports:{}};return t[e]=i,n.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){r[e]=n},n.parcelRequire8a95=i),i("i6wQM"),i("hVzVa");var a=i("bpxeT"),s=i("2TvXO");i("1TFAy");var o,c,l=i("jyO6b"),u=i("kaqNk"),d=(a=i("bpxeT"),s=i("2TvXO"),{libSelectEl:document.getElementById("js-genre-select"),libMoviesListEl:document.getElementById("js-lib-list"),libLoadMoreBtn:document.getElementById("js-loadMore-btn"),libClearBtn:document.getElementById("clear-lib-btn"),libContainerEL:document.getElementById("lib-container-el")}),f=d.libSelectEl,p=d.libMoviesListEl,v=function(e){return'<option class="option-item" value="'.concat(e.id,'">').concat(e.name,"</option>")},b=(o=e(a)(e(s).mark((function n(t){var r,i,a,o,c,l,u,d,f,p,v;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.title,i=t.name,a=t.release_date,o=t.first_air_date,c=t.genresIds,l=t.poster_path,u=t.vote_average,d=t.id,e.next=3,I(c);case 3:return f=e.sent,p=r||i,v=a||o,null!==l&&"https://image.tmdb.org/t/p/original/".concat(l),e.abrupt("return",'<li class="mylibrary_movie is-id"  data-id='.concat(d,'>\n  <div class="mylibrary_dark">\n  <img loading="lazy" src="https://image.tmdb.org/t/p/original').concat(l,'" alt="').concat(p,'" />\n  </div>\n <div class="mylibrary_overlay"></div>\n  <div class="mylibrary_info">\n  <h3 class="mylibrary_movies_name">').concat(p,'</h3>\n  <p class="mylibrary_genre_movie">').concat(f," | ").concat(v.substring(0,4),'</p>\n  </div>\n<div class="hero_star_raiting">\n <span>\n<div class="Stars thisstars" style="--rating: ').concat(u/2,'; " aria-label="Rating of this product is ').concat((u/2).toFixed(1),' out of 5."></div>\n  </div>\n  </span>   \n  </li>'));case 9:case"end":return e.stop()}}),n)}))),function(e){return o.apply(this,arguments)}),m=function(){var n=e(a)(e(s).mark((function n(t){var r;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return v(e)})));case 2:r=e.sent,f.insertAdjacentHTML("beforeend",r.join(" "));case 4:case"end":return e.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),h=(c=e(a)(e(s).mark((function n(t){var r;return e(s).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(t.map(function(){var n=e(a)(e(s).mark((function n(t){return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));case 2:r=n.sent,p.insertAdjacentHTML("beforeend",r.join(" "));case 4:case"end":return n.stop()}}),n)}))),function(e){return c.apply(this,arguments)}),y=i("8MBJY"),g=i("a2hTj"),w=i("hKHmD"),x=function(){"use strict";function n(t){var r=t.btnEl,i=t.isHidden,a=void 0!==i&&i;e(y)(this,n),this.button=r,a&&this.hideBtn()}return e(g)(n,[{key:"getBtn",value:function(e){return document.querySelector(e)}},{key:"hideBtn",value:function(){this.button.classList.add(n.classes.hidden)}},{key:"showBtn",value:function(){this.button.classList.remove(n.classes.hidden)}},{key:"disableBtn",value:function(){this.button.disabled=!0,this.button.textContent="Loading..."}},{key:"enableBtn",value:function(){this.button.disabled=!1,this.button.textContent="Load more"}}]),n}();e(w)(x,"classes",{hidden:"lib-btn-hidden"});var L=i("6JpON"),E=d.libSelectEl,B=d.libMoviesListEl,_=d.libLoadMoreBtn,k=d.libClearBtn,M=d.libContainerEL,T=new x({btnEl:_}),j="1",F=0,O=function(){var n=e(a)(e(s).mark((function n(t){var r;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.getGenre)();case 2:return r=e.sent.genres,e.abrupt("return",r.filter((function(e){var n=e.id;return t.includes(n)})));case 4:case"end":return e.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),I=function(){var n=e(a)(e(s).mark((function n(t){var r,i;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:return r=e.sent,i=r.map((function(e){return e.name})),e.abrupt("return",i.slice(0,2).join(", "));case 5:case"end":return e.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),C=function(){var n=e(a)(e(s).mark((function n(t){var r;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:r=e.sent,m(r);case 4:case"end":return e.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),H=function(e){var n=e.slice(F,F+9);F+=9,h(n)},S=function(e){N(e)},N=function(e){if("1"===e)H(u.parsedFilms),q(u.parsedFilms);else{var n=u.parsedFilms.filter((function(n){return n.genresIds.includes(parseInt(e))}));H(n),q(n)}},q=function(e){e.length<=F?T.hideBtn():T.showBtn()},A=function(){B.innerHTML=""},X=function(){M.insertAdjacentHTML("beforeend",'<h2 class="lib-empty-message">OOOPS...<br>We are very sorry!<br>You don\'t have any movies at your library.</h2>\n  <a class="lib-link-search" href="./catalog.html"> Search movie</a>')};E.addEventListener("change",(function(){j=E.value,F=0,A(),S(j)})),window.addEventListener("load",(function(){if(!u.parsedFilms.length)return M.innerHTML="",void X();C(u.parsedFilmsGenreIds),H(u.parsedFilms),q(u.parsedFilms)})),_.addEventListener("click",(function(){T.disableBtn(),S(j),T.enableBtn()})),k.addEventListener("click",(function(){localStorage.removeItem("films"),M.innerHTML="",X(),L.Notify.success("Library was cleared succesfully")})),i("h8OCG"),i("3XXFj")}();
//# sourceMappingURL=my-lib-page.2efe797f.js.map
