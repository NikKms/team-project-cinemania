var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},n=e.parcelRequire8a95;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},e.parcelRequire8a95=n),n("g7hbw");var o=n("2shzp"),i=n("19F3f");const s={pagination:document.getElementById("pagination"),catalogFilms:document.querySelector(".catalog-films")},r=e=>{const t=e.map((e=>`<div data-id=${e.id} class="catalog-card">\n      <img src='https://image.tmdb.org/t/p/original${e.poster}' alt="${e.title}" loading="lazy" />\n      <div class="catalog-info">\n        <div>\n          <p class="catalog-info-name">\n            <b>${e.title}</b>\n          </p>\n          <p class="catalog-info-details">\n            <span>${e.genres}</span>\n            <span class="catalog-info-border" >${e.date}</span>\n          </p>\n        </div>\n        <div\n          class="Stars"\n          style="--rating: ${e.rating}"\n          aria-label="Rating of this product is 2.3 out of 5."\n        ></div>\n      </div>\n    </div>`)).join("");var a;a=t,s.catalogFilms.innerHTML=a,console.log(t)};const l=document.querySelector(".search-form"),d=async e=>{const{results:t}=await(0,i.getByQuery)(e,1);c(t).then((e=>console.log(e)))},c=async e=>{console.log(e);const t=await g(),a=e.map((({id:e,title:a,poster_path:n,vote_average:o,genre_ids:i,release_date:s})=>({id:e,title:a,poster:n,rating:o,genres:p(t,i),date:f(s)})));r(a)},g=async()=>{const{data:e}=await o.default.get("https://api.themoviedb.org/3/genre/movie/list?api_key=88b8a7c5d221d3120fb29d734050dc7d"),{genres:t}=e;return t},p=(e,t)=>{const a=[];return e.map((({id:e,name:n})=>{-1!==t.indexOf(e)&&a.push(n)})),a.join(",")},f=e=>new Date(e).getFullYear();l.addEventListener("submit",(e=>{e.preventDefault();const t=new FormData(e.target),{searchMovies:a}=Object.fromEntries(t.entries());d(a)})),n("7Yg6P");
//# sourceMappingURL=catalog.609d35c5.js.map
