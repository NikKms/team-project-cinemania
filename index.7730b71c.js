!function(){function n(n){return n&&n.__esModule?n.default:n}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},e={},r=t.parcelRequire8a95;null==r&&((r=function(n){if(n in a)return a[n].exports;if(n in e){var t=e[n];delete e[n];var r={id:n,exports:{}};return a[n]=r,t.call(r.exports,r,r.exports),r.exports}var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(n,t){e[n]=t},t.parcelRequire8a95=r),r("i6wQM");var c=r("bpxeT"),o=r("2TvXO"),s=(c=r("bpxeT"),o=r("2TvXO"),r("jyO6b")),i=(s=r("jyO6b"),{openModal:document.querySelector("[data-modal-open]"),closeModal:document.querySelector("[data-modal-close]"),backdrop:document.querySelector("[data-modal]"),upcomingWrapLi:document.querySelector(".upcoming_modal")});function d(){window.removeEventListener("keydown",p),i.backdrop.classList.add("is-hidden")}function p(n){"Escape"===n.code&&d()}function l(){return(l=n(c)(n(o).mark((function t(a){return n(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,s.getInfoByMovie)(a);case 2:u(n.sent);case 4:case"end":return n.stop()}}),t)})))).apply(this,arguments)}function u(n){console.log(n);var t=n.poster_path,a=n.backdrop_path,e=n.genres,r=n.overview,c=n.popularity,o=n.title,s=n.vote_average,d=n.vote_count,p=e.map((function(n){return n.name})).join(", "),l="https://image.tmdb.org/t/p/original/".concat(null!==t?t:a),u='\n    <div class="modal-card">\n      <img\n        class="modal-img"\n        src="https://image.tmdb.org/t/p/original/'.concat(l,'"\n        alt=" "\n      />\n\n      <div class="modal-card-wrap">\n        <h3 class="modal-card-title">').concat(o,'</h3>\n\n          <div class="modal-card-vote-wrap">\n            <div class="modal-card-vote"><span>Vote / Votes</span></div>\n            <div class="modal-card-vote-data">\n              <span>').concat(s,"</span> / <span>").concat(d,'</span>\n            </div>\n          </div>\n        \n          <div class="modal-card-popularity-wrap">\n            <span class="modal-card-popularity-text">Popularity</span>\n            <span class="modal-card-popularity-data"\n              >').concat(c.toFixed(1),'</span\n            >\n          </div>\n\n          <div class="modal-card-genre-wrap">\n            <span class="modal-card-genre-text">Genre</span>\n            <span class="modal-card-genre-data">').concat(p,'</span>\n          </div>\n        \n        <span class="modal-card-about-title">About</span>\n\n        <p class="modal-card-about-text">').concat(r,'</p>\n\n        <button class="modal-button" type="button">Add to my library</button>\n      </div>\n    </div>');i.upcomingWrapLi.innerHTML=u}i.openModal.addEventListener("click",(function(n){if(console.log(n.target),n.target.classList.contains("is-id")){!function(n){l.apply(this,arguments)}(n.target.dataset.id)}window.addEventListener("keydown",p),i.backdrop.classList.remove("is-hidden")})),i.closeModal.addEventListener("click",d),i.backdrop.addEventListener("click",(function(n){n.currentTarget===n.target&&d()}));s=r("jyO6b"),s=r("jyO6b"),s=r("jyO6b");var v=document.querySelector(".weekly-cards-wrap"),m=document.querySelector(".upcoming_wrap");function g(){return(g=n(c)(n(o).mark((function t(){var a,e;return n(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,s.getWeeklyTrending)();case 2:a=n.sent,e=f(a.results),console.log(e),w(e);case 6:case"end":return n.stop()}}),t)})))).apply(this,arguments)}function f(n){return n.slice(0,3)}function w(n){return y.apply(this,arguments)}function y(){return y=n(c)(n(o).mark((function t(a){var e;return n(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(a.map(function(){var t=n(c)(n(o).mark((function t(a){var e,r,c,s,i,d,p,l;return n(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.backdrop_path,e=a.title,r=a.release_date,c=a.genre_ids,s=a.id,i=a.poster_path,d=a.name,p=a.first_air_date,n.next=3,h(c);case 3:return l=n.sent,n.abrupt("return",'<li class="weekly-card" >\n        <div class="weekly-container-image">\n          <img\n            class="weekly-card-image"\n           src="https://image.tmdb.org/t/p/original/'.concat(i,'"\n            alt=""\n          />\n         <div class="overlay is-id" data-id=').concat(s,'></div>       \n        </div>\n        <div class="weekly-card-description">\n          <span class="weekly-card-description-title">').concat(e||d,'</span>\n          <span class="weekly-card-description-other">').concat(l," | ").concat(r?r.substring(0,4):p.substring(0,4),'</span>\n        </div>\n        <div class="weekly-card-raiting">Stars5*</div>\n      </li>'));case 5:case"end":return n.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()));case 2:e=t.sent,v.innerHTML=e.join("");case 4:case"end":return t.stop()}}),t)}))),y.apply(this,arguments)}function h(n){return b.apply(this,arguments)}function b(){return(b=n(c)(n(o).mark((function t(a){var e,r,c;return n(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,s.getGenre)();case 2:return e=n.sent,r=e.genres,c=a.map((function(n){var t=r.find((function(t){return t.id===n}));return t?t.name:""})),n.abrupt("return",c.join(", "));case 6:case"end":return n.stop()}}),t)})))).apply(this,arguments)}function k(){return(k=n(c)(n(o).mark((function t(){var a,e,r,c;return n(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=L(),e=a.formattedStartDate,r=a.formattedEndDate,n.prev=1,n.next=4,(0,s.getUpcoming)(e,r);case 4:c=n.sent,x(M(c.results)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0.message);case 12:case"end":return n.stop()}}),t,null,[[1,9]])})))).apply(this,arguments)}function x(n){return _.apply(this,arguments)}function _(){return(_=n(c)(n(o).mark((function t(a){var e,r,c,s,i,d,p,l,u,v;return n(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(a),e=a.backdrop_path,r=a.genre_ids,c=a.popularity,s=a.release_date,i=a.title,d=a.vote_average,p=a.vote_count,l=a.overview,n.next=4,h(r);case 4:u=n.sent,v='<div class="upcoming-card">\n\n            <img class="upcoming-card-img" src="https://image.tmdb.org/t/p/original/'.concat(e,'" alt=" " />\n\n          <div class="upcoming-card-wrap">\n            <h3 class="upcoming-card-title">').concat(i,'</h3>\n\n            <div class="upcoming-card-numbers-wrap-top">\n              <div class="upcoming-card-release-wrap">\n                <span class="upcoming-card-release-text">Release date</span>\n                <span class="upcoming-card-release-data">').concat(s,'</span>\n              </div>\n\n              <div class="upcoming-card-vote-wrap">\n                <div class="upcoming-card-vote"><span>Vote / Votes</span></div>\n                <div class="upcoming-card-vote-data">\n                  <span>').concat(d,"</span> / <span>").concat(p,'</span>\n                </div>\n              </div>\n            </div>\n\n            <div class="upcoming-card-numbers-wrap-down">\n              <div class="upcoming-card-popularity-wrap">\n                <span class="upcoming-card-popularity-text">Popularity</span>\n                <span class="upcoming-card-popularity-data">').concat(c.toFixed(1),'</span>\n              </div>\n\n              <div class="upcoming-card-genre-wrap">\n                <span class="upcoming-card-genre-text">Genre</span>\n                <span class="upcoming-card-genre-data">').concat(u,'</span>\n              </div>\n            </div>\n\n            <span class="upcoming-card-about-title">About</span>\n\n            <p class="upcoming-card-about-text">').concat(l,'</p>\n\n            <button class="upcoming-button" type="button">\n              Add to my library\n            </button>\n          </div>\n        </div>'),m.insertAdjacentHTML("beforeend",v);case 7:case"end":return n.stop()}}),t)})))).apply(this,arguments)}function L(){var n=new Date,t=n.getFullYear(),a=String(n.getMonth()+1).padStart(2,"0"),e=String(n.getDate()).padStart(2,"0"),r="".concat(t,"-").concat(a,"-").concat(e),c=new Date(t,a,1),o=new Date(c-1).getDate(),s=String(o).padStart(2,"0");return{formattedStartDate:r,formattedEndDate:"".concat(t,"-").concat(a,"-").concat(s)}}function M(n){return n[Math.floor(Math.random()*n.length)]}document.querySelector(".weekly-title-link").addEventListener("click",(function(){location.href="catalog.html"})),window.addEventListener("DOMContentLoaded",(function(){return k.apply(this,arguments)})),window.addEventListener("DOMContentLoaded",(function(){return g.apply(this,arguments)})),r("hVzVa"),r("h8OCG")}();
//# sourceMappingURL=index.7730b71c.js.map
