!function(){function n(n){return n&&n.__esModule?n.default:n}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},a={},r=t.parcelRequire8a95;null==r&&((r=function(n){if(n in e)return e[n].exports;if(n in a){var t=a[n];delete a[n];var r={id:n,exports:{}};return e[n]=r,t.call(r.exports,r,r.exports),r.exports}var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(n,t){a[n]=t},t.parcelRequire8a95=r),r("i6wQM");var c=r("bpxeT"),s=r("2TvXO");r("1TFAy");var o=r("jyO6b"),i=(r("jyO6b"),o=r("jyO6b"),document.querySelector(".weekly-cards-wrap")),p=document.querySelector(".upcoming_wrap");function u(){return(u=n(c)(n(s).mark((function t(){var e,a;return n(s).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,o.getWeeklyTrending)();case 2:e=n.sent,a=d(e.results),console.log(a),l(a);case 6:case"end":return n.stop()}}),t)})))).apply(this,arguments)}function d(n){return n.slice(0,3)}function l(n){return g.apply(this,arguments)}function g(){return g=n(c)(n(s).mark((function t(e){var a;return n(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,Promise.all(e.map(function(){var t=n(c)(n(s).mark((function t(e){var a,r,c,o,i,p,u,d,l;return n(s).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.backdrop_path,a=e.title,r=e.release_date,c=e.genre_ids,o=e.id,i=e.poster_path,p=e.name,u=e.first_air_date,d=e.vote_average,n.next=3,f(c);case 3:return l=n.sent,n.abrupt("return",'<li class="weekly-card" >\n        <div class="weekly-container-image">\n          <img\n            class="weekly-card-image"\n           src="https://image.tmdb.org/t/p/original/'.concat(i,'"\n            alt=""\n          />\n         <div class="overlay is-id" data-id=').concat(o,'></div>       \n        </div>\n        <ul class="weekly-card-description">\n        <li><span class="weekly-card-description-title">').concat(a||p,'</span>\n          <span class="weekly-card-description-other">').concat(l," | ").concat(r?r.substring(0,4):u.substring(0,4),'</span>\n        </li>\n         <li class="Stars" style="--rating: ').concat(parseFloat((d/2).toFixed(1)),';" aria-label="Rating of this product is 2.3 out of 5."></li> \n        </ul>\n        \n      </li>'));case 5:case"end":return n.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()));case 3:a=t.sent,i.innerHTML=a.join("");case 5:case"end":return t.stop()}}),t)}))),g.apply(this,arguments)}function f(n){return v.apply(this,arguments)}function v(){return(v=n(c)(n(s).mark((function t(e){var a,r,c;return n(s).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,o.getGenre)();case 2:return a=n.sent,r=a.genres,c=e.map((function(n){var t=r.find((function(t){return t.id===n}));return t?t.name:""})),n.abrupt("return",c.join(", "));case 6:case"end":return n.stop()}}),t)})))).apply(this,arguments)}function m(){return(m=n(c)(n(s).mark((function t(){var e,a,r,c;return n(s).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=h(),a=e.formattedStartDate,r=e.formattedEndDate,n.prev=1,n.next=4,(0,o.getUpcoming)(a,r);case 4:c=n.sent,w(b(c.results)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0.message);case 12:case"end":return n.stop()}}),t,null,[[1,9]])})))).apply(this,arguments)}function w(n){return y.apply(this,arguments)}function y(){return(y=n(c)(n(s).mark((function t(e){var a,r,c,o,i,u,d,l,g,v;return n(s).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.backdrop_path,r=e.genre_ids,c=e.popularity,o=e.release_date,i=e.title,u=e.vote_average,d=e.vote_count,l=e.overview,n.next=3,f(r);case 3:g=n.sent,v='<div class="upcoming-card">\n\n            <img class="upcoming-card-img" src="https://image.tmdb.org/t/p/original/'.concat(a,'" alt=" " />\n\n          <div class="upcoming-card-wrap">\n            <h3 class="upcoming-card-title">').concat(i,'</h3>\n\n            <div class="upcoming-card-numbers-wrap-top">\n              <div class="upcoming-card-release-wrap">\n                <span class="upcoming-card-release-text">Release date</span>\n                <span class="upcoming-card-release-data">').concat(o,'</span>\n              </div>\n\n              <div class="upcoming-card-vote-wrap">\n                <div class="upcoming-card-vote"><span>Vote / Votes</span></div>\n                <div class="upcoming-card-vote-data">\n                  <span>').concat(u,"</span> / <span>").concat(d,'</span>\n                </div>\n              </div>\n            </div>\n\n            <div class="upcoming-card-numbers-wrap-down">\n              <div class="upcoming-card-popularity-wrap">\n                <span class="upcoming-card-popularity-text">Popularity</span>\n                <span class="upcoming-card-popularity-data">').concat(c.toFixed(1),'</span>\n              </div>\n\n              <div class="upcoming-card-genre-wrap">\n                <span class="upcoming-card-genre-text">Genre</span>\n                <span class="upcoming-card-genre-data">').concat(g,'</span>\n              </div>\n            </div>\n \n\n            <span class="upcoming-card-about-title">About</span>\n\n            <p class="upcoming-card-about-text">').concat(l,'</p>\n\n            <button class="upcoming-button" type="button">\n              Add to my library\n            </button>\n          </div>\n        </div>'),p.insertAdjacentHTML("beforeend",v);case 6:case"end":return n.stop()}}),t)})))).apply(this,arguments)}function h(){var n=new Date,t=n.getFullYear(),e=String(n.getMonth()+1).padStart(2,"0"),a=String(n.getDate()).padStart(2,"0"),r="".concat(t,"-").concat(e,"-").concat(a),c=new Date(t,e,1),s=new Date(c-1).getDate(),o=String(s).padStart(2,"0");return{formattedStartDate:r,formattedEndDate:"".concat(t,"-").concat(e,"-").concat(o)}}function b(n){return n[Math.floor(Math.random()*n.length)]}document.querySelector(".weekly-title-link").addEventListener("click",(function(){location.href="catalog.html"})),window.addEventListener("DOMContentLoaded",(function(){return m.apply(this,arguments)})),window.addEventListener("DOMContentLoaded",(function(){return u.apply(this,arguments)})),r("hVzVa"),r("h8OCG")}();
//# sourceMappingURL=index.6ef7d2df.js.map
